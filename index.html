<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Nine</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Palatino', 'Palatino Linotype', 'Book Antiqua', serif;
            background: linear-gradient(to bottom, #d4d0c5 0%, #c5c0b5 100%);
            color: #3d3a32;
            padding: 40px 20px;
            min-height: 100vh;
            line-height: 1.6;
        }

        .header {
            text-align: center;
            margin-bottom: 80px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 2em;
            font-weight: 400;
            letter-spacing: 12px;
            color: #3d3a32;
            margin-bottom: 20px;
            text-transform: lowercase;
        }

        .header p {
            font-size: 0.95em;
            color: #4a4740;
            letter-spacing: 3px;
            font-weight: 400;
            line-height: 1.8;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            max-width: 1400px;
            margin: 0 auto;
            background: transparent;
            padding: 0;
        }

        .grid-item {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #d4cfc0;
            box-shadow: 0 2px 8px rgba(90, 84, 71, 0.08);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(90, 84, 71, 0.15);
            z-index: 10;
            border-color: #a89f88;
        }

        /* Lavender gradient: darkest to lightest in clockwise order */
        .grid-item:nth-child(1) { /* Top-left - darkest (#1) */
            background: linear-gradient(135deg, #d5d1db 0%, #cdc9d5 100%);
        }
        .grid-item:nth-child(2) { /* Top-center (#2) */
            background: linear-gradient(135deg, #d9d5de 0%, #d1cdd8 100%);
        }
        .grid-item:nth-child(3) { /* Top-right (#3) */
            background: linear-gradient(135deg, #ddd9e2 0%, #d5d1db 100%);
        }
        .grid-item:nth-child(6) { /* Right-middle (#4) */
            background: linear-gradient(135deg, #e1dde5 0%, #d9d5de 100%);
        }
        .grid-item:nth-child(9) { /* Bottom-right (#5) */
            background: linear-gradient(135deg, #e5e1e9 0%, #ddd9e2 100%);
        }
        .grid-item:nth-child(8) { /* Bottom-center (#6) */
            background: linear-gradient(135deg, #e9e5ec 0%, #e1dde5 100%);
        }
        .grid-item:nth-child(7) { /* Bottom-left (#7) */
            background: linear-gradient(135deg, #ede9ef 0%, #e5e1e9 100%);
        }
        .grid-item:nth-child(4) { /* Left-middle (#8) */
            background: linear-gradient(135deg, #f1edf3 0%, #e9e5ec 100%);
        }
        .grid-item:nth-child(5) { /* Center - lightest (#9) */
            background: linear-gradient(135deg, #f5f1f6 0%, #edeaf0 100%);
        }


        /* Enso circles as SVG backgrounds - each unique */
        .enso {
            width: 70%;
            height: 70%;
            opacity: 0.15;
            pointer-events: none;
        }

        @media (max-width: 1024px) {
            .grid-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .grid-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.5em;
                letter-spacing: 8px;
            }

            .header {
                margin-bottom: 50px;
            }
        }

        .loading {
            grid-column: 1/-1;
            text-align: center;
            padding: 100px 20px;
            color: #8a8373;
            font-size: 0.9em;
            letter-spacing: 2px;
            font-weight: 300;
        }

        .error {
            grid-column: 1/-1;
            text-align: center;
            padding: 100px 20px;
            color: #a86b5a;
            font-size: 0.9em;
            letter-spacing: 2px;
            font-weight: 300;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>daily nine</h1>
        <p>nine perspectives<br>refreshed daily</p>
    </div>

    <div class="grid-container" id="grid">
        <div class="loading">loading essays...</div>
    </div>

    <script>
        // Nine unique enso circles as SVG paths
        const ensoCircles = [
            // Enso 1 - Nearly complete, gap at top
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 100 20 A 80 80 0 1 1 95 20" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 2 - Gap at bottom right
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 100 20 A 80 80 0 1 1 140 160" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 3 - Thick, gap at left
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 30 100 A 70 70 0 1 1 35 100" stroke="#3d3a32" stroke-width="4" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 4 - Thin, gap at right
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 100 30 A 70 70 0 1 1 100 25" stroke="#3d3a32" stroke-width="2" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 5 - Imperfect circle, gap at top right
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 100 25 A 75 75 0 0 1 165 95 A 78 78 0 0 1 100 175 A 73 73 0 0 1 35 100 A 76 76 0 0 1 120 28" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 6 - Gap at bottom
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 40 100 A 75 75 0 1 1 160 100" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 7 - Subtle gap at left bottom
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 100 25 A 75 75 0 1 1 50 140" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 8 - Wide gap at top
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 130 35 A 75 75 0 1 1 70 35" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`,
            
            // Enso 9 - Nearly perfect, tiny gap at bottom right
            `<svg class="enso" viewBox="0 0 200 200"><path d="M 100 25 A 75 75 0 1 1 148 148" stroke="#3d3a32" stroke-width="3" fill="none" stroke-linecap="round"/></svg>`
        ];

        fetch('/.netlify/functions/daily-articles')
            .then(response => response.json())
            .then(articles => {
                renderGrid(articles);
            })
            .catch(error => {
                console.error('Error loading articles:', error);
                document.getElementById('grid').innerHTML = '<div class="error">unable to load essays<br>please refresh</div>';
            });

        function renderGrid(articles) {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';

            articles.forEach((article, index) => {
                const item = document.createElement('div');
                item.className = 'grid-item';
                item.innerHTML = ensoCircles[index];
                item.onclick = () => window.open(article.url, '_blank');
                item.title = article.title; // Show title on hover
                grid.appendChild(item);
            });
        }
    </script>
</body>
</html>